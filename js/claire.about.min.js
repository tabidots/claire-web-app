zenscroll.setup(300,15);var sections=document.querySelectorAll(".info-section");function highlightToc(e,b){if(b!="click"&&zenscroll.moving()){return}if(e.classList.contains("sub-level-link")){var d=e.parentNode.parentNode.parentNode.querySelector(".top-level-link"),c=d.parentNode.querySelector(".sub-list"),a=e}else{var d=e,c=d.parentNode.querySelector(".sub-list"),a=undefined}_.each(document.querySelectorAll(".top-level-link, .sub-list, .sub-level-link"),function(f){f.classList.remove("active");if(_.contains([d,c,a],f)){f.classList.add("active")}})}_.each(sections,function(e){var d=document.createElement("li"),c=document.createElement("a"),a=document.createElement("ul");c.innerHTML=e.querySelector("h1").innerHTML;c.setAttribute("href","#"+e.id);c.classList.add("top-level-link");_.each(e.querySelectorAll("h2"),function(i){var g=document.createElement("li"),f=document.createElement("a");subHeadText=i.innerHTML;if(subHeadText.length>40){subHeadText=subHeadText.substring(0,40)+"..."}f.innerHTML=subHeadText;f.setAttribute("href","#"+i.id);f.classList.add("sub-level-link");g.appendChild(f);a.appendChild(g);var h=new Waypoint({element:i,offset:50,handler:function(){highlightToc(f)}})});a.classList.add("sub-list");d.appendChild(c);d.appendChild(a);d.classList.add("top-level-item");document.getElementById("toc").appendChild(d);var b=new Waypoint({element:e,offset:(e.id==="whyclaire")?0:50,handler:function(){highlightToc(c)}})});_.each(document.querySelectorAll("#toc a"),function(a){addListenerMulti(a,"mouseup touchstart",function(b){highlightToc(a,"click")})});if(window.location.hash){var hashid=window.location.hash.substring(1),target=document.getElementById(hashid),tocTarget=document.querySelector('a[href="'+window.location.hash+'"]');if(target){highlightToc(tocTarget);zenscroll.to(target)}}else{tocTarget=document.querySelector(".top-level-link");highlightToc(tocTarget);zenscroll.toY(0)}function toggleMenu(a){var b=document.getElementById("info-head");if(!b.classList.contains("active")||a==="in"){b.classList.add("active")}else{b.classList.remove("active")}}_.each(document.querySelectorAll("#features li"),function(a){a.innerHTML=a.innerHTML.replace(/%X%/g,'<div class="icon cross"></div>');a.innerHTML=a.innerHTML.replace(/âˆš/g,'<div class="icon check"></div>')});document.getElementById("info-menu-button").addEventListener("click",function(){toggleMenu()});window.addEventListener("orientationchange",function(){toggleMenu("in")});smartquotes();